<!DOCTYPE html>
<html>
<body>

<!-- Remove border on deployment -->
<canvas id="canvas" width="800" height="400" style="border:1px solid;" />
<div id="pressure"></div>
<div id="temperature"></div>

<script>

var canvas      = document.getElementById("canvas");
var context     = canvas.getContext("2d");
var dx          = 0;
var dy          = 0;
var pause       = 0;
var maxWidth    = canvas.width - 95;
var temperature = 30;   // Celsius
var pressure    = 5000; // Foot pressure level

function draw(dx, dy)
{
    context.clearRect(0, 0, canvas.width, canvas.height);
    context.translate(dx, dy);

    context.beginPath();
    context.moveTo(0, 0);
    context.lineTo(15, 20);
    context.lineTo(73, 25);
    context.lineTo(95, 16);
    context.lineTo(95, 10);
    context.lineTo(81, 10);
    context.lineTo(75, 3);
    context.lineTo(21, 11);
    context.lineTo(13, 1);
    context.closePath();
    context.stroke();
    context.fill();

    context.translate(-dx, -dy);
}

function executeFrame()
{
    if(dx > maxWidth)
    {
        dx = dy     = 0;
        pressure    = 5000;
        temperature = 30;
    }
    else
    {
        dx++;

        pressure -= 4;
        document.getElementById("pressure").innerHTML = pressure;

        if(dx %  4 == 0) dy++;
        if(dx % 23 == 0)
        {
            temperature--;
            document.getElementById("temperature").innerHTML = temperature;
        }
    }

    draw(dx, dy);
}

setInterval(function(){executeFrame();}, 20);

</script>

</body>
</html>
